kind: pipeline
name: frontend

steps:
- steps:
  name: build_deploy
  image: harnesscommunity/drone-nexus-publish
  environment:
    PASSWORD:
      from_secret: ne_password
    USERNAME:
      from_secret: ne_username
  settings:
    dockerfile: ./Dockerfile.yml
    username: $USERNAME
    password: $PASSWORD
    server_url: https://reg.creativelab.top
    filename: ./target/weather-web-app.jar
    format: docker
    repository: local-docker-image-registry
    attributes: "-CgroupId=org.testing -CartifactId=example -Cversion=1.0 -Aextension=jar -Aclassifier=bin"
